import{_ as I,d as Q,r as d,o as h,c as V,C as oe,L as O,w as A,a as H,b as m,e as w,f as t,g as n,h as J,t as y,i as k,j as R}from"./entry-49bdcd65.mjs";const ae=Q({__name:"LivesCanvas",props:{langtonsLoops:null,setting:null},setup(L,{expose:u}){const{langtonsLoops:C,setting:e}=L,b=d(),p=new oe;function s(){const l=C.lives,i=b.value,r=l.length*e.zoom;i.height!==r&&(i.width=r,i.height=r);const v=i.getContext("2d");return _(l,v),v}function _(l,i){const r=e.zoom,v=l.length*r;i.clearRect(0,0,v,v),i.beginPath();for(let f=0;f<l.length;f++){const S=l[f];for(let c=0;c<S.length;c++){const B=S[c];B!==0&&(i.fillStyle=p.colorOf(B),i.fillRect(c*r,f*r,r,r))}}}u({rendering:s});const a={mainCanvas:b,cellTypes:p,rendering:s,renderCanvasOf:_};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),le={ref:"mainCanvas",width:"512",height:"512"};function ue(L,u,C,e,b,p){return h(),V("canvas",le,null,512)}var se=I(ae,[["render",ue],["__scopeId","data-v-440128f0"]]);const ie=Q({__name:"MatrixConsole",setup(L,{expose:u}){u();const C=100,e=d("-"),b=d("-"),p=d(0),s=d(0),_=d(0),a=d(0),l=d(512),i=d(1e4),r=d(null),v=d(C),f={zoom:1},S=O.of(l.value),c=d(!1);A(s,Z),A(a,j),A(v,x);const B=()=>T(),g=()=>T(),W=()=>M(),Y=()=>K(),P=d(H.DEFAULT),$=H.all(),N=()=>P.value.isInfinite();function M(){c.value=!0,G()&&T(),x(),s.value++;const o=setInterval(()=>{U(()=>{S.update(),_.value++}),z()&&(c.value=!1,alert("\u6307\u5B9A\u3057\u305F\u8A08\u7B97\u56DE\u6570\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u7D42\u4E86\u3057\u307E\u3059\u3002")),c.value||clearInterval(o)},1),E=setInterval(()=>{x(),s.value++,c.value||clearInterval(E)},200)}function K(){c.value=!1}function T(){p.value=0,_.value=1,s.value=0,a.value=0,S.langtonsLoops(l.value),x()}function U(o){const E=Date.now();o();const te=Date.now()-E;a.value+=te}function j(){const o=a.value/_.value/1e3;e.value=F(o,3),b.value=F(a.value/1e3,3)}function Z(){const o=s.value/_.value*100;p.value=Number(o.toFixed(0))}let D=!1;function x(){f.zoom=v.value/C,!D&&(D=!0,r.value.rendering(),D=!1)}const z=()=>!N()&&_.value>=i.value,ee=()=>z()||X(l.value)!==!0;function F(o,E=0){return Number(o.toFixed(E)).toLocaleString()}function ne(o){return"0123456789".includes(o.key)?!0:(o.stopImmediatePropagation(),o.preventDefault(),!1)}const X=o=>{if(!o)return"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002";if(isNaN(o))return"\u6570\u5024\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002";const E=o;return E<O.MIN_SIZE||E>O.MAX_SIZE?`${O.MIN_SIZE} \u304B\u3089 ${O.MAX_SIZE} \u306E\u7BC4\u56F2\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002`:!0},G=()=>s.value<=0,q={PERCENTAGE:C,cycleTime:e,totalTime:b,drawingRate:p,displayCount:s,calculateCount:_,totalElpasedMs:a,worldOneSideSize:l,maxExecuteCount:i,livesCanvas:r,zoomParcent:v,canvasSetting:f,langtonsLoops:S,isRunning:c,onMounted:B,onClickReset:g,onClickStart:W,onClickStop:Y,limitCountBehavior:P,limitCountBehaviors:$,isInfiniteOfLimitCount:N,doLangtonsLoops:M,stopLangtonsLoops:K,resetLangtonsLoops:T,withMeasure:U,renderCycleTime:j,renderDrawingRate:Z,drawingLock:D,renderLives:x,isOverLimit:z,isDisableStart:ee,formatNumberOf:F,numberOnlyKeyPressFilter:ne,validateCanvasOneSideSizeOf:X,isStatusOfReseted:G};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}}),re=R(" \u30EA\u30B5\u30A4\u30AF\u30EB\u30BF\u30A4\u30E0: "),ce=R(" \u63CF\u753B\u7387(\u8868\u793A\u56DE\u6570/\u8A08\u7B97\u56DE\u6570): "),de={key:0},_e={key:1},ve={class:"text-caption"},fe=R("RESET"),me=R(" START "),Ce=R(" STOP ");function ge(L,u,C,e,b,p){const s=m("v-card-text"),_=m("v-text-field"),a=m("v-col"),l=m("v-row"),i=m("v-select"),r=m("v-slider"),v=m("v-container"),f=m("v-btn"),S=m("v-card-actions"),c=se,B=m("v-card");return h(),w(B,{class:"mx-auto"},{default:t(()=>[n(v,null,{default:t(()=>[n(l,{dense:"","no-gutters":""},{default:t(()=>[n(a,null,{default:t(()=>[n(s,null,{default:t(()=>[re,J("div",null,y(e.cycleTime)+" \u79D2 (\u958B\u59CB\u304B\u3089\u306E\u7DCF\u5B9F\u884C\u6642\u9593: "+y(e.totalTime)+" \u79D2) ",1)]),_:1}),n(s,null,{default:t(()=>[ce,e.isStatusOfReseted()?k("",!0):(h(),V("div",de,y(e.drawingRate)+"% ("+y(e.displayCount)+"/"+y(e.calculateCount)+") ",1)),e.isStatusOfReseted()?(h(),V("div",_e,"-")):k("",!0)]),_:1}),n(s,null,{default:t(()=>[n(v,{fluid:""},{default:t(()=>[n(l,{dense:"","no-gutters":""},{default:t(()=>[n(a,null,{default:t(()=>[n(_,{modelValue:e.worldOneSideSize,"onUpdate:modelValue":u[0]||(u[0]=g=>e.worldOneSideSize=g),disabled:e.isRunning||!e.isStatusOfReseted(),onKeypress:e.numberOnlyKeyPressFilter,label:"\u4E16\u754C\u306E\u5927\u304D\u3055(CanvasSize)\u203BRESET\u3067\u53CD\u6620",rules:[e.validateCanvasOneSideSizeOf],counter:"3",maxlength:"3",variant:"outlined",leng:"",dense:""},null,8,["modelValue","disabled","rules"])]),_:1})]),_:1}),n(l,{dense:"","no-gutters":""},{default:t(()=>[n(a,{cols:"6"},{default:t(()=>[n(i,{modelValue:e.limitCountBehavior,"onUpdate:modelValue":u[1]||(u[1]=g=>e.limitCountBehavior=g),items:e.limitCountBehaviors,"item-title":"name","item-value":"id",disabled:e.isRunning,label:"\u8A08\u7B97\u4E0A\u9650","return-object":"",variant:"outlined"},null,8,["modelValue","items","disabled"])]),_:1}),n(a,{cols:"6"},{default:t(()=>[n(_,{modelValue:e.maxExecuteCount,"onUpdate:modelValue":u[2]||(u[2]=g=>e.maxExecuteCount=g),disabled:e.isRunning||e.isInfiniteOfLimitCount(),onKeypress:e.numberOnlyKeyPressFilter,label:"\u4E0A\u9650\u56DE\u6570",counter:"6",maxlength:"6",variant:"outlined",leng:"",dense:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),n(l,null,{default:t(()=>[n(a,{cols:"12"},{default:t(()=>[J("div",ve,"\u62E1\u5927\u7387 : "+y(e.zoomParcent)+" %",1),n(r,{modelValue:e.zoomParcent,"onUpdate:modelValue":u[3]||(u[3]=g=>e.zoomParcent=g),"thumb-label":"",min:"100",max:"300",step:"1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),n(S,null,{default:t(()=>[n(f,{color:"error",outlined:"",onClick:e.onClickReset},{default:t(()=>[fe]),_:1}),e.isRunning?k("",!0):(h(),w(f,{key:0,color:e.isDisableStart()?"disable":"primary",outlined:"",disabled:e.isDisableStart(),onClick:e.onClickStart},{default:t(()=>[me]),_:1},8,["color","disabled"])),e.isRunning?(h(),w(f,{key:1,color:"secondary",outlined:"",onClick:e.onClickStop},{default:t(()=>[Ce]),_:1})):k("",!0)]),_:1})]),_:1}),n(a,null,{default:t(()=>[n(c,{ref:"livesCanvas",setting:e.canvasSetting,langtonsLoops:e.langtonsLoops},null,8,["langtonsLoops"])]),_:1})]),_:1})]),_:1})]),_:1})}var pe=I(ie,[["render",ge]]);const Se={};function Ee(L,u){const C=pe,e=m("v-container");return h(),w(e,null,{default:t(()=>[n(C)]),_:1})}var Be=I(Se,[["render",Ee]]);export{Be as default};
