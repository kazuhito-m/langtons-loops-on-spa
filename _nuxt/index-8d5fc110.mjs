import{_ as te,d as ce,r as i,L as p,w as I,a as ee,b as c,o as b,c as F,e as o,f as t,g as N,t as E,h as ne,i as w,j as B,C as de}from"./entry-d3177328.mjs";const _e=ce({__name:"MatrixConsole",setup(P,{expose:s}){s();const C=100,e=i("-"),A=i("-"),y=i(0),r=i(0),_=i(0),a=i(0),f=i(512),x=i(1e4),O=i(null),S=i(C),v=()=>S.value/C,g=p.of(f.value),R=new de,l=i(!1);I(r,q),I(a,W),I(S,h);const oe=()=>L(),ue=()=>L(),le=()=>U(),ae=()=>Z(),M=i(ee.DEFAULT),ie=ee.all(),K=()=>M.value.isInfinite();function U(){l.value=!0,J()&&L(),h(),r.value++;const n=setInterval(()=>{G(()=>{g.update(),_.value++}),V()&&(l.value=!1,alert("\u6307\u5B9A\u3057\u305F\u8A08\u7B97\u56DE\u6570\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u7D42\u4E86\u3057\u307E\u3059\u3002")),l.value||clearInterval(n)},1),u=setInterval(()=>{h(),r.value++,l.value||clearInterval(u)},200)}function Z(){l.value=!1}function L(){y.value=0,_.value=1,r.value=0,a.value=0,g.langtonsLoops(f.value),h()}function j(n){const u=O.value,d=n.length*v();u.height!==d&&(u.width=d,u.height=d);const m=u.getContext("2d");return X(n,m),m}function X(n,u){const d=v(),m=n.length*d;u.clearRect(0,0,m,m),u.beginPath();for(let D=0;D<n.length;D++){const Y=n[D];for(let k=0;k<Y.length;k++){const $=Y[k];$!==0&&(u.fillStyle=R.colorOf($),u.fillRect(k*d,D*d,d,d))}}}function G(n){const u=Date.now();n();const m=Date.now()-u;a.value+=m}function W(){const n=a.value/_.value/1e3;e.value=z(n,3),A.value=z(a.value/1e3,3)}function q(){const n=r.value/_.value*100;y.value=Number(n.toFixed(0))}let T=!1;function h(){T||(T=!0,j(g.lives),T=!1)}const V=()=>!K()&&_.value>=x.value,se=()=>V()||H(f.value)!==!0;function z(n,u=0){return Number(n.toFixed(u)).toLocaleString()}function re(n){return"0123456789".includes(n.key)?!0:(n.stopImmediatePropagation(),n.preventDefault(),!1)}const H=n=>{if(!n)return"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002";if(isNaN(n))return"\u6570\u5024\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002";const u=n;return u<p.MIN_SIZE||u>p.MAX_SIZE?`${p.MIN_SIZE} \u304B\u3089 ${p.MAX_SIZE} \u306E\u7BC4\u56F2\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002`:!0},J=()=>r.value<=0,Q={PERCENTAGE:C,cycleTime:e,totalTime:A,drawingRate:y,displayCount:r,calculateCount:_,totalElpasedMs:a,worldOneSideSize:f,maxExecuteCount:x,matrixCanvas:O,zoomParcent:S,zoom:v,langtonsLoops:g,cellTypes:R,isRunning:l,onMounted:oe,onClickReset:ue,onClickStart:le,onClickStop:ae,limitCountBehavior:M,limitCountBehaviors:ie,isInfiniteOfLimitCount:K,doLangtonsLoops:U,stopLangtonsLoops:Z,resetLangtonsLoops:L,renderCanvasWithResizeOf:j,renderCanvasOf:X,withMeasure:G,renderCycleTime:W,renderDrawingRate:q,drawingLock:T,renderLives:h,isOverLimit:V,isDisableStart:se,formatNumberOf:z,numberOnlyKeyPressFilter:re,validateCanvasOneSideSizeOf:H,isStatusOfReseted:J};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}}),fe=B(" \u30EA\u30B5\u30A4\u30AF\u30EB\u30BF\u30A4\u30E0: "),ve=B(" \u63CF\u753B\u7387(\u8868\u793A\u56DE\u6570/\u8A08\u7B97\u56DE\u6570): "),me={key:0},Ce={key:1},Se={class:"text-caption"},ge=B("RESET"),Ee=B(" START "),be=B(" STOP "),he={ref:"matrixCanvas",width:"512",height:"512"};function pe(P,s,C,e,A,y){const r=c("v-card-text"),_=c("v-text-field"),a=c("v-col"),f=c("v-row"),x=c("v-select"),O=c("v-slider"),S=c("v-container"),v=c("v-btn"),g=c("v-card-actions"),R=c("v-card");return b(),F(R,{class:"mx-auto"},{default:o(()=>[t(S,null,{default:o(()=>[t(f,{dense:"","no-gutters":""},{default:o(()=>[t(a,null,{default:o(()=>[t(r,null,{default:o(()=>[fe,N("div",null,E(e.cycleTime)+" \u79D2 (\u958B\u59CB\u304B\u3089\u306E\u7DCF\u5B9F\u884C\u6642\u9593: "+E(e.totalTime)+" \u79D2) ",1)]),_:1}),t(r,null,{default:o(()=>[ve,e.isStatusOfReseted()?w("",!0):(b(),ne("div",me,E(e.drawingRate)+"% ("+E(e.displayCount)+"/"+E(e.calculateCount)+") ",1)),e.isStatusOfReseted()?(b(),ne("div",Ce,"-")):w("",!0)]),_:1}),t(r,null,{default:o(()=>[t(S,{fluid:""},{default:o(()=>[t(f,{dense:"","no-gutters":""},{default:o(()=>[t(a,null,{default:o(()=>[t(_,{modelValue:e.worldOneSideSize,"onUpdate:modelValue":s[0]||(s[0]=l=>e.worldOneSideSize=l),disabled:e.isRunning||!e.isStatusOfReseted(),onKeypress:e.numberOnlyKeyPressFilter,label:"\u4E16\u754C\u306E\u5927\u304D\u3055(CanvasSize)\u203BRESET\u3067\u53CD\u6620",rules:[e.validateCanvasOneSideSizeOf],counter:"3",maxlength:"3",variant:"outlined",leng:"",dense:""},null,8,["modelValue","disabled","rules"])]),_:1})]),_:1}),t(f,{dense:"","no-gutters":""},{default:o(()=>[t(a,{cols:"6"},{default:o(()=>[t(x,{modelValue:e.limitCountBehavior,"onUpdate:modelValue":s[1]||(s[1]=l=>e.limitCountBehavior=l),items:e.limitCountBehaviors,"item-title":"name","item-value":"id",disabled:e.isRunning,label:"\u8A08\u7B97\u4E0A\u9650","return-object":"",variant:"outlined"},null,8,["modelValue","items","disabled"])]),_:1}),t(a,{cols:"6"},{default:o(()=>[t(_,{modelValue:e.maxExecuteCount,"onUpdate:modelValue":s[2]||(s[2]=l=>e.maxExecuteCount=l),disabled:e.isRunning||e.isInfiniteOfLimitCount(),onKeypress:e.numberOnlyKeyPressFilter,label:"\u4E0A\u9650\u56DE\u6570",counter:"6",maxlength:"6",variant:"outlined",leng:"",dense:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),t(f,null,{default:o(()=>[t(a,{cols:"12"},{default:o(()=>[N("div",Se,"\u62E1\u5927\u7387 : "+E(e.zoomParcent)+" %",1),t(O,{modelValue:e.zoomParcent,"onUpdate:modelValue":s[3]||(s[3]=l=>e.zoomParcent=l),"thumb-label":"",min:"100",max:"300",step:"1"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(g,null,{default:o(()=>[t(v,{color:"error",outlined:"",onClick:e.onClickReset},{default:o(()=>[ge]),_:1}),e.isRunning?w("",!0):(b(),F(v,{key:0,color:e.isDisableStart()?"disable":"primary",outlined:"",disabled:e.isDisableStart(),onClick:e.onClickStart},{default:o(()=>[Ee]),_:1},8,["color","disabled"])),e.isRunning?(b(),F(v,{key:1,color:"secondary",outlined:"",onClick:e.onClickStop},{default:o(()=>[be]),_:1})):w("",!0)]),_:1})]),_:1}),t(a,null,{default:o(()=>[N("canvas",he,null,512)]),_:1})]),_:1})]),_:1})]),_:1})}var Be=te(_e,[["render",pe],["__scopeId","data-v-41b19778"]]);const ye={};function xe(P,s){const C=Be,e=c("v-container");return b(),F(e,null,{default:o(()=>[t(C)]),_:1})}var Re=te(ye,[["render",xe]]);export{Re as default};
