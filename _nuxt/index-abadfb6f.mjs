import{_ as X,d as ne,r as l,L as te,w as G,a as H,b as i,o as C,c as D,e as t,f as o,g as J,t as y,h as Q,i as k,j as b,C as oe}from"./entry-47aaeef2.mjs";const ae=ne({__name:"MatrixConsole",setup(A,{expose:v}){v();const g=l("-"),e=l("-"),B=l(0),f=l(0),u=l(0),c=l(0),r=l(512),S=l(1e4),h=l(null),s=te.of(r.value),m=new oe,d=l(!1);G(f,K),G(c,j);const w=()=>P(),p=()=>I(),Y=()=>N(),F=l(H.DEFAULT),Z=H.all(),V=()=>F.value.isInfinite();function I(){d.value=!0,E(s.lives);const n=setInterval(()=>{z(()=>{s.update(),u.value++}),R()&&(d.value=!1,alert("\u6307\u5B9A\u3057\u305F\u8A08\u7B97\u56DE\u6570\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u7D42\u4E86\u3057\u307E\u3059\u3002")),d.value||clearInterval(n)},1),a=setInterval(()=>{U(),d.value||clearInterval(a)},200)}function N(){d.value=!1}function P(){B.value=0,u.value=1,f.value=0,c.value=0,s.langtonsLoops(r.value),E(s.lives)}function E(n){const a=h.value;a.height!==n.length&&(a.width=n[0].length,a.height=n.length);const _=a.getContext("2d");return M(n,_),_}function M(n,a){a.clearRect(0,0,n[0].length,n.length),a.beginPath();for(let _=0;_<n.length;_++){const x=n[_];for(let T=0;T<x.length;T++){const q=x[T];q!==0&&(a.fillStyle=m.colorOf(q),a.fillRect(T,_,1,1))}}}function z(n){const a=Date.now();n();const x=Date.now()-a;c.value+=x}function j(){const n=c.value/u.value/1e3;g.value=O(n,3),e.value=O(c.value/1e3,3)}function K(){const n=f.value/u.value*100;B.value=Number(n.toFixed(0))}let L=!1;function U(){L||(L=!0,E(s.lives),f.value++,L=!1)}const R=()=>!V()&&u.value>=S.value,$=()=>R();function O(n,a=0){return Number(n.toFixed(a)).toLocaleString()}function ee(n){return"0123456789".includes(n.key)?!0:(n.stopImmediatePropagation(),n.preventDefault(),!1)}const W={cycleTime:g,totalTime:e,drawingRate:B,displayCount:f,calculateCount:u,totalElpasedMs:c,canvasOneSideSize:r,maxExecuteCount:S,matrixCanvas:h,langtonsLoops:s,cellTypes:m,isRunning:d,onClickReset:w,onClickStart:p,onClickStop:Y,limitCountBehavior:F,limitCountBehaviors:Z,isInfiniteOfLimitCount:V,doLangtonsLoops:I,stopLangtonsLoops:N,resetLangtonsLoops:P,renderCanvasWithResizeOf:E,renderCanvasOf:M,withMeasure:z,renderCycleTime:j,renderDrawingRate:K,drawingLock:L,renderLives:U,isOverLimit:R,isDisableStart:$,formatNumberOf:O,numberOnlyKeyPressFilter:ee};return Object.defineProperty(W,"__isScriptSetup",{enumerable:!1,value:!0}),W}}),le=b(" \u30EA\u30B5\u30A4\u30AF\u30EB\u30BF\u30A4\u30E0: "),ue=b(" \u63CF\u753B\u7387(\u8868\u793A\u56DE\u6570/\u8A08\u7B97\u56DE\u6570): "),ie={key:0},se={key:1},ce=b("RESET"),re=b(" START "),de=b(" STOP "),_e=["width","height"];function ve(A,v,g,e,B,f){const u=i("v-card-text"),c=i("v-select"),r=i("v-col"),S=i("v-text-field"),h=i("v-row"),s=i("v-container"),m=i("v-btn"),d=i("v-card-actions"),w=i("v-card");return C(),D(w,{class:"mx-auto"},{default:t(()=>[o(s,null,{default:t(()=>[o(h,{dense:"","no-gutters":""},{default:t(()=>[o(r,null,{default:t(()=>[o(u,null,{default:t(()=>[le,J("div",null,y(e.cycleTime)+" \u79D2 (\u958B\u59CB\u304B\u3089\u306E\u7DCF\u5B9F\u884C\u6642\u9593: "+y(e.totalTime)+" \u79D2) ",1)]),_:1}),o(u,null,{default:t(()=>[ue,e.displayCount>0?(C(),Q("div",ie,y(e.drawingRate)+"% ("+y(e.displayCount)+"/"+y(e.calculateCount)+") ",1)):k("",!0),e.displayCount<=0?(C(),Q("div",se,"-")):k("",!0)]),_:1}),o(u,null,{default:t(()=>[o(s,{fluid:""},{default:t(()=>[o(h,{dense:"","no-gutters":""},{default:t(()=>[o(r,{cols:"6"},{default:t(()=>[o(c,{modelValue:e.limitCountBehavior,"onUpdate:modelValue":v[0]||(v[0]=p=>e.limitCountBehavior=p),items:e.limitCountBehaviors,"item-title":"name","item-value":"id",disabled:e.isRunning,label:"\u8A08\u7B97\u4E0A\u9650","return-object":"",variant:"outlined"},null,8,["modelValue","items","disabled"])]),_:1}),o(r,{cols:"6"},{default:t(()=>[o(S,{modelValue:e.maxExecuteCount,"onUpdate:modelValue":v[1]||(v[1]=p=>e.maxExecuteCount=p),disabled:e.isRunning||e.isInfiniteOfLimitCount(),onKeypress:e.numberOnlyKeyPressFilter,label:"\u4E0A\u9650\u56DE\u6570",counter:"6",maxlength:"6",variant:"outlined",leng:"",dense:""},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),o(d,null,{default:t(()=>[o(m,{color:"error",outlined:"",onClick:e.onClickReset},{default:t(()=>[ce]),_:1}),e.isRunning?k("",!0):(C(),D(m,{key:0,color:e.isDisableStart()?"disable":"primary",outlined:"",disabled:e.isDisableStart(),onClick:e.onClickStart},{default:t(()=>[re]),_:1},8,["color","disabled"])),e.isRunning?(C(),D(m,{key:1,color:"secondary",outlined:"",onClick:e.onClickStop},{default:t(()=>[de]),_:1})):k("",!0)]),_:1})]),_:1}),o(r,null,{default:t(()=>[J("canvas",{ref:"matrixCanvas",width:e.canvasOneSideSize,height:e.canvasOneSideSize},null,8,_e)]),_:1})]),_:1})]),_:1})]),_:1})}var fe=X(ae,[["render",ve],["__scopeId","data-v-a829e194"]]);const me={};function Ce(A,v){const g=fe,e=i("v-container");return C(),D(e,null,{default:t(()=>[o(g)]),_:1})}var he=X(me,[["render",Ce]]);export{he as default};
