import{_ as H,d as U,r as c,L as W,w as j,a as r,o as v,c as E,b as o,e as u,f as q,t as C,g as G,h as L,i as h,C as X}from"./entry-7d301b43.mjs";const Y=U({__name:"MatrixConsole",setup(D,{expose:x}){x();const f=c("-"),e=c("-"),g=c(0),_=c(0),l=c(0),a=c(0),m=c(512),p=c(1e4),y=c(null),s=W.of(m.value),S=new X,d=c(!1);j(_,M),j(a,I);const J=()=>F(),K=()=>b(),Q=()=>A();function b(){d.value=!0,T(s.lives);const n=setInterval(()=>{N(()=>{s.update(),l.value++}),l.value>=p.value&&(d.value=!1,alert("\u6307\u5B9A\u3057\u305F\u8A08\u7B97\u56DE\u6570\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u7D42\u4E86\u3057\u307E\u3059\u3002")),d.value||clearInterval(n)},1),t=setInterval(()=>{V(),d.value||clearInterval(t)},200)}function A(){d.value=!1}function F(){g.value=0,l.value=1,_.value=0,a.value=0,s.langtonsLoops(m.value),T(s.lives)}function T(n){const t=y.value;t.height!==n.length&&(t.width=n[0].length,t.height=n.length);const i=t.getContext("2d");return O(n,i),i}function O(n,t){t.clearRect(0,0,n[0].length,n.length),t.beginPath();for(let i=0;i<n.length;i++){const w=n[i];for(let B=0;B<w.length;B++){const P=w[B];P!==0&&(t.fillStyle=S.colorOf(P),t.fillRect(B,i,1,1))}}}function N(n){const t=Date.now();n();const w=Date.now()-t;a.value+=w}function I(){const n=a.value/l.value/1e3;f.value=R(n,3),e.value=R(a.value/1e3,3)}function M(){const n=_.value/l.value*100;g.value=Number(n.toFixed(0))}let k=!1;function V(){k||(k=!0,T(s.lives),_.value++,k=!1)}function R(n,t=0){return Number(n.toFixed(t)).toLocaleString()}const z={cycleTime:f,totalTime:e,drawingRate:g,displayCount:_,calculateCount:l,totalElpasedMs:a,canvasOneSideSize:m,maxExecuteCount:p,matrixCanvas:y,langtonsLoops:s,cellTypes:S,isRunning:d,onClickReset:J,onClickStart:K,onClickStop:Q,doLangtonsLoops:b,stopLangtonsLoops:A,resetLangtonsLoops:F,initialRenderCanvasOf:T,renderCanvasOf:O,withMeasure:N,renderCycleTime:I,renderDrawingRate:M,drawingLock:k,renderLives:V,formatNumberOf:R};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),Z=h(" \u30EA\u30B5\u30A4\u30AF\u30EB\u30BF\u30A4\u30E0: "),$=h(" \u63CF\u753B\u7387(\u8868\u793A\u56DE\u6570/\u8A08\u7B97\u56DE\u6570): "),ee={key:0},ne={key:1},te=h("RESET"),oe=h(" START "),ae=h(" STOP "),ce=["width","height"];function le(D,x,f,e,g,_){const l=r("v-card-text"),a=r("v-btn"),m=r("v-card-actions"),p=r("v-col"),y=r("v-row"),s=r("v-container"),S=r("v-card");return v(),E(S,{class:"mx-auto"},{default:o(()=>[u(s,null,{default:o(()=>[u(y,{dense:"","no-gutters":""},{default:o(()=>[u(p,null,{default:o(()=>[u(l,null,{default:o(()=>[Z,q("div",null,C(e.cycleTime)+" \u79D2 (\u958B\u59CB\u304B\u3089\u306E\u7DCF\u5B9F\u884C\u6642\u9593: "+C(e.totalTime)+" \u79D2) ",1)]),_:1}),u(l,null,{default:o(()=>[$,e.displayCount>0?(v(),G("div",ee,C(e.drawingRate)+"% ("+C(e.displayCount)+"/"+C(e.calculateCount)+") ",1)):L("",!0),e.displayCount<=0?(v(),G("div",ne,"-")):L("",!0)]),_:1}),u(m,null,{default:o(()=>[u(a,{color:"error",outlined:"",onClick:e.onClickReset},{default:o(()=>[te]),_:1}),e.isRunning?L("",!0):(v(),E(a,{key:0,color:"primary",outlined:"",onClick:e.onClickStart},{default:o(()=>[oe]),_:1})),e.isRunning?(v(),E(a,{key:1,color:"secondary",outlined:"",onClick:e.onClickStop},{default:o(()=>[ae]),_:1})):L("",!0)]),_:1})]),_:1}),u(p,null,{default:o(()=>[q("canvas",{ref:"matrixCanvas",width:e.canvasOneSideSize,height:e.canvasOneSideSize},null,8,ce)]),_:1})]),_:1})]),_:1})]),_:1})}var ue=H(Y,[["render",le],["__scopeId","data-v-0e8b51dc"]]);const se={};function ie(D,x){const f=ue,e=r("v-container");return v(),E(e,null,{default:o(()=>[u(f)]),_:1})}var _e=H(se,[["render",ie]]);export{_e as default};
